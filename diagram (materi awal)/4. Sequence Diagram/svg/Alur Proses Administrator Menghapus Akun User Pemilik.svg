<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="655px" preserveAspectRatio="none" style="width:1436px;height:655px;background:#FFFFFF;" version="1.1" viewBox="0 0 1436 655" width="1436px" zoomAndPan="magnify"><title>Alur Proses Administrator Menghapus Akun User Pemilik</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="449.6748" x="492.0076" y="27.9951">Alur Proses Administrator Menghapus Akun User Pemilik</text><g><title>admin-app .PHP.</title><rect fill="#FFFFFF" height="407.2578" style="stroke:#181818;stroke-width:1;" width="10" x="566.1606" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="155.0625" style="stroke:#181818;stroke-width:1;" width="10" x="1008.3149" y="372.7891"/></g><g><title>Administrator</title><rect fill="#000000" fill-opacity="0.00000" height="456.3906" width="8" x="51.8413" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="55" x2="55" y1="118.5938" y2="574.9844"/></g><g><title>admin-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="456.3906" width="8" x="567.1606" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="571.1323" x2="571.1323" y1="118.5938" y2="574.9844"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="456.3906" width="8" x="1009.3149" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1012.5098" x2="1012.5098" y1="118.5938" y2="574.9844"/></g><g class="participant participant-head" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6826" x="5" y="115.292">Administrator</text><ellipse cx="55.8413" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M55.8413,58.7969 L55.8413,85.7969 M42.8413,66.7969 L68.8413,66.7969 M55.8413,85.7969 L42.8413,100.7969 M55.8413,85.7969 L68.8413,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6826" x="5" y="586.9795">Administrator</text><ellipse cx="55.8413" cy="598.7813" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M55.8413,606.7813 L55.8413,633.7813 M42.8413,614.7813 L68.8413,614.7813 M55.8413,633.7813 L42.8413,648.7813 M55.8413,633.7813 L68.8413,648.7813" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0566" x="505.1323" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0566" x="512.1323" y="107.292">admin-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0566" x="505.1323" y="573.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0566" x="512.1323" y="593.9795">admin-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="968.5098" y="115.292">postgres-db</text><path d="M995.3149,66.2969 C995.3149,56.2969 1013.3149,56.2969 1013.3149,56.2969 C1013.3149,56.2969 1031.3149,56.2969 1031.3149,66.2969 L1031.3149,92.2969 C1031.3149,102.2969 1013.3149,102.2969 1013.3149,102.2969 C1013.3149,102.2969 995.3149,102.2969 995.3149,92.2969 L995.3149,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M995.3149,66.2969 C995.3149,76.2969 1013.3149,76.2969 1013.3149,76.2969 C1013.3149,76.2969 1031.3149,76.2969 1031.3149,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="968.5098" y="586.9795">postgres-db</text><path d="M995.3149,600.2813 C995.3149,590.2813 1013.3149,590.2813 1013.3149,590.2813 C1013.3149,590.2813 1031.3149,590.2813 1031.3149,600.2813 L1031.3149,626.2813 C1031.3149,636.2813 1013.3149,636.2813 1013.3149,636.2813 C1013.3149,636.2813 995.3149,636.2813 995.3149,626.2813 L995.3149,600.2813" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M995.3149,600.2813 C995.3149,610.2813 1013.3149,610.2813 1013.3149,610.2813 C1013.3149,610.2813 1031.3149,610.2813 1031.3149,600.2813" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>admin-app .PHP.</title><rect fill="#FFFFFF" height="407.2578" style="stroke:#181818;stroke-width:1;" width="10" x="566.1606" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="155.0625" style="stroke:#181818;stroke-width:1;" width="10" x="1008.3149" y="372.7891"/></g><g class="message" data-participant-1="Admin" data-participant-2="App"><polygon fill="#181818" points="554.1606,145.7266,564.1606,149.7266,554.1606,153.7266,558.1606,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.8413" x2="560.1606" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.6738" x="62.8413" y="144.6606">1. POST /admin/users/{id}/delete</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="576.1606" x2="618.1606" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="618.1606" x2="618.1606" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="577.1606" x2="618.1606" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="587.1606,187.8594,577.1606,191.8594,587.1606,195.8594,583.1606,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.0264" x="583.1606" y="173.7935">2. Verifikasi sesi &amp; hak akses Administrator</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="576.1606" x2="618.1606" y1="220.9922" y2="220.9922"/><line style="stroke:#181818;stroke-width:1;" x1="618.1606" x2="618.1606" y1="220.9922" y2="233.9922"/><line style="stroke:#181818;stroke-width:1;" x1="577.1606" x2="618.1606" y1="233.9922" y2="233.9922"/><polygon fill="#181818" points="587.1606,229.9922,577.1606,233.9922,587.1606,237.9922,583.1606,233.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.1543" x="583.1606" y="215.9263">3. Ambil data pengguna yang akan dihapus (untuk konfirmasi)</text></g><path d="M581,246.9922 L581,301.9922 L1194,301.9922 L1194,256.9922 L1184,246.9922 L581,246.9922" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1184,246.9922 L1184,256.9922 L1194,256.9922 L1184,246.9922" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317.7891" x="587" y="264.0591">Aplikasi menampilkan konfirmasi kepada Admin:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="592.7314" x="587" y="279.1919">"Anda yakin ingin menghapus User [Nama User] dan Toko [Nama Toko] secara permanen?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="436.4395" x="587" y="294.3247">Semua produk, pesanan, dan data terkait akan hilang selamanya."</text><g class="message" data-participant-1="Admin" data-participant-2="App"><polygon fill="#181818" points="554.1606,324.5234,564.1606,328.5234,554.1606,332.5234,558.1606,328.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.8413" x2="560.1606" y1="328.5234" y2="328.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.3501" x="62.8413" y="323.4575">4. Konfirmasi penghapusan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="996.3149,368.7891,1006.3149,372.7891,996.3149,376.7891,1000.3149,372.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="576.1606" x2="1002.3149" y1="372.7891" y2="372.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.8096" x="583.1606" y="352.5903">5. Kirim perintah HAPUS ke pengguna</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.8232" x="583.1606" y="367.7231">DELETE FROM users WHERE user_id = {id}</text></g><path d="M1023,385.7891 L1023,500.7891 L1429,500.7891 L1429,395.7891 L1419,385.7891 L1023,385.7891" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1419,385.7891 L1419,395.7891 L1429,395.7891 L1419,385.7891" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194.1748" x="1029" y="402.856">CASCADE DELETE DIMULAI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.8594" x="1029" y="417.9888">Database secara otomatis melakukan:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.4951" x="1029" y="433.1216">- DELETE FROM user_profiles WHERE user_id = {id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.271" x="1029" y="448.2544">- DELETE FROM stores WHERE owner_id = {id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="385.6899" x="1029" y="463.3872">- DELETE FROM products WHERE store_id = [store_id_toko]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370.2969" x="1029" y="478.52">- DELETE FROM orders WHERE store_id = [store_id_toko]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.6348" x="1029" y="493.6528">- ... dan seterusnya untuk semua data terkait.</text><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="587.1606,523.8516,577.1606,527.8516,587.1606,531.8516,583.1606,527.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="581.1606" x2="1012.3149" y1="527.8516" y2="527.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.2793" x="593.1606" y="522.7856">6. Konfirmasi penghapusan berhasil</text></g><g class="message" data-participant-1="App" data-participant-2="Admin"><polygon fill="#181818" points="66.8413,552.9844,56.8413,556.9844,66.8413,560.9844,62.8413,556.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="60.8413" x2="570.1606" y1="556.9844" y2="556.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="486.3193" x="72.8413" y="551.9185">7. Response (Redirect ke halaman daftar pengguna dengan pesan sukses)</text></g><!--SRC=[bLJRRjim37ttLn1vsDgWSR0xK60Rt3f3YpLha3JRGrSKJAJOX6p9aEGDnR1_7oNdqhJeXhqO0iL37fv3-JdaX8N56kQszQYXrRvLa5MjXKpKfCbvYzvO64jTbDYq3ZBLQfWxQM4YQwf89OadNyaEDR76IVS_O5o6bDuUeWUuhf4qQ3qjgK7jeOSXDC2cWOF9sUImIskQHA371Je9lSOuNrZf1c8HR_EJ98c5OF0XfC8nl4XXSZcxWc6iDcoPZHl-8l5xA6GblGoCw0Tw6Kid0RJ5lapXgxIq8eMEW2SbU0ObAa3rQEnzvAiKidf15GIkqB0YHQiHxb0N36Rf1NKI7NGUAADNP6jkSvWasZ0RIqNfmQmYBU1lrR6efSQweIeKsQ50oGO5TfIEER-NQH7wATQ2TC7VUcjBTEJw2zOOZpTCKiELKMOT3CSR7dU9Dd3d1bhgZrnq9kkM8zQ8LXtnZKED-YZ2uvnUMeNakmbBgiAqJbPSKzzXsaka5X26UsJIwnG-xsPfDanHRmt9JpZj3QUHfJgG8ksnXBDiCf_ny5k9l-jyT36w6i6dwUKOejlmxMmq7SNpBGbu3y7zdUrXP_OLvmX0lt-QpKwpV0JhWldvU7wHdVVxV9blDd0jal6cHa-EHQvGjJn-y6003xdSidOhgkGJd1v27E_LDjVyr7zDZhOi_IOzOhlqwytvrWTd7o6D5JkP_e5BqpJwxVZfsDQnh-k_Y8kxSNyDqdj-its3hTjldt8R5jAM7AiI8VVyYKiGy75jZk5T2bFf6gFPWeEf56JbqeSrA35k6_DOURIxXoVumE6uik3Qy7mFxpVX1dy0]--></g></svg>