<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="627px" preserveAspectRatio="none" style="width:1054px;height:627px;background:#FFFFFF;" version="1.1" viewBox="0 0 1054 627" width="1054px" zoomAndPan="magnify"><title>Alur Proses Administrator Menonaktifkan Toko</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="370.6855" x="343.283" y="27.9951">Alur Proses Administrator Menonaktifkan Toko</text><g><title>admin-app .PHP.</title><rect fill="#FFFFFF" height="378.8594" style="stroke:#181818;stroke-width:1;" width="10" x="537.5264" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="316.5938" style="stroke:#181818;stroke-width:1;" width="10" x="1003.4463" y="220.9922"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="265.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="338.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="412.0547"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="470.3203"/></g><g><title>Administrator</title><rect fill="#000000" fill-opacity="0.00000" height="427.9922" width="8" x="51.8413" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="55" x2="55" y1="118.5938" y2="546.5859"/></g><g><title>admin-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="427.9922" width="8" x="538.5264" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="542.498" x2="542.498" y1="118.5938" y2="546.5859"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="427.9922" width="8" x="1004.4463" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1007.6411" x2="1007.6411" y1="118.5938" y2="546.5859"/></g><g class="participant participant-head" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6826" x="5" y="115.292">Administrator</text><ellipse cx="55.8413" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M55.8413,58.7969 L55.8413,85.7969 M42.8413,66.7969 L68.8413,66.7969 M55.8413,85.7969 L42.8413,100.7969 M55.8413,85.7969 L68.8413,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6826" x="5" y="558.5811">Administrator</text><ellipse cx="55.8413" cy="570.3828" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M55.8413,578.3828 L55.8413,605.3828 M42.8413,586.3828 L68.8413,586.3828 M55.8413,605.3828 L42.8413,620.3828 M55.8413,605.3828 L68.8413,620.3828" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0566" x="476.498" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0566" x="483.498" y="107.292">admin-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0566" x="476.498" y="545.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0566" x="483.498" y="565.5811">admin-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="963.6411" y="115.292">postgres-db</text><path d="M990.4463,66.2969 C990.4463,56.2969 1008.4463,56.2969 1008.4463,56.2969 C1008.4463,56.2969 1026.4463,56.2969 1026.4463,66.2969 L1026.4463,92.2969 C1026.4463,102.2969 1008.4463,102.2969 1008.4463,102.2969 C1008.4463,102.2969 990.4463,102.2969 990.4463,92.2969 L990.4463,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M990.4463,66.2969 C990.4463,76.2969 1008.4463,76.2969 1008.4463,76.2969 C1008.4463,76.2969 1026.4463,76.2969 1026.4463,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="963.6411" y="558.5811">postgres-db</text><path d="M990.4463,571.8828 C990.4463,561.8828 1008.4463,561.8828 1008.4463,561.8828 C1008.4463,561.8828 1026.4463,561.8828 1026.4463,571.8828 L1026.4463,597.8828 C1026.4463,607.8828 1008.4463,607.8828 1008.4463,607.8828 C1008.4463,607.8828 990.4463,607.8828 990.4463,597.8828 L990.4463,571.8828" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M990.4463,571.8828 C990.4463,581.8828 1008.4463,581.8828 1008.4463,581.8828 C1008.4463,581.8828 1026.4463,581.8828 1026.4463,571.8828" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>admin-app .PHP.</title><rect fill="#FFFFFF" height="378.8594" style="stroke:#181818;stroke-width:1;" width="10" x="537.5264" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="316.5938" style="stroke:#181818;stroke-width:1;" width="10" x="1003.4463" y="220.9922"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="265.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="338.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="412.0547"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1008.4463" y="470.3203"/></g><g class="message" data-participant-1="Admin" data-participant-2="App"><polygon fill="#181818" points="525.5264,145.7266,535.5264,149.7266,525.5264,153.7266,529.5264,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.8413" x2="531.5264" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.3579" x="62.8413" y="144.6606">1. POST /admin/stores/{id}/deactivate</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="589.5264" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="589.5264" x2="589.5264" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="548.5264" x2="589.5264" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="558.5264,187.8594,548.5264,191.8594,558.5264,195.8594,554.5264,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.0264" x="554.5264" y="173.7935">2. Verifikasi sesi &amp; hak akses Administrator</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="991.4463,216.9922,1001.4463,220.9922,991.4463,224.9922,995.4463,220.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="997.4463" y1="220.9922" y2="220.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.2729" x="554.5264" y="215.9263">3. START TRANSACTION</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="996.4463,261.2578,1006.4463,265.2578,996.4463,269.2578,1000.4463,265.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="1002.4463" y1="265.2578" y2="265.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.0903" x="554.5264" y="245.0591">4. Perbarui status toko (stores)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391.0854" x="554.5264" y="260.1919">UPDATE stores SET is_active = false WHERE store_id = {id}</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="558.5264,290.3906,548.5264,294.3906,558.5264,298.3906,554.5264,294.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="552.5264" x2="1002.4463" y1="294.3906" y2="294.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.4087" x="564.5264" y="289.3247">5. Konfirmasi toko dinonaktifkan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="996.4463,334.6563,1006.4463,338.6563,996.4463,342.6563,1000.4463,338.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="1002.4463" y1="338.6563" y2="338.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.0347" x="554.5264" y="318.4575">6. Nonaktifkan semua produk di toko tersebut</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431.9199" x="554.5264" y="333.5903">UPDATE products SET is_published = false WHERE store_id = {id}</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="558.5264,363.7891,548.5264,367.7891,558.5264,371.7891,554.5264,367.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="552.5264" x2="1002.4463" y1="367.7891" y2="367.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.4458" x="564.5264" y="362.7231">7. Konfirmasi produk dinonaktifkan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="996.4463,408.0547,1006.4463,412.0547,996.4463,416.0547,1000.4463,412.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="1002.4463" y1="412.0547" y2="412.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388.54" x="554.5264" y="391.856">8. Nonaktifkan semua pengguna di toko tersebut (opsional)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386.2739" x="554.5264" y="406.9888">UPDATE users SET is_active = false WHERE store_id = {id}</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="558.5264,437.1875,548.5264,441.1875,558.5264,445.1875,554.5264,441.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="552.5264" x2="1002.4463" y1="441.1875" y2="441.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.314" x="564.5264" y="436.1216">9. Konfirmasi pengguna dinonaktifkan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="996.4463,466.3203,1006.4463,470.3203,996.4463,474.3203,1000.4463,470.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="547.5264" x2="1002.4463" y1="470.3203" y2="470.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.0015" x="554.5264" y="465.2544">10. COMMIT TRANSACTION</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="558.5264,495.4531,548.5264,499.4531,558.5264,503.4531,554.5264,499.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="552.5264" x2="1002.4463" y1="499.4531" y2="499.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.646" x="564.5264" y="494.3872">11. Transaksi Sukses</text></g><g class="message" data-participant-1="App" data-participant-2="Admin"><polygon fill="#181818" points="66.8413,524.5859,56.8413,528.5859,66.8413,532.5859,62.8413,528.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="60.8413" x2="541.5264" y1="528.5859" y2="528.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457.6851" x="72.8413" y="523.52">12. Response (Redirect ke halaman daftar toko dengan pesan sukses)</text></g><!--SRC=[hLFBQjjG4DthAmOlMdjXkUuhRQ459JOa53-mb7PJ22FViJD8lhhSHpUb_zwHxCeMJi2KxgGxPywPCu-NC67SMjp1lGqUDGJjGm596ImaQiUQdRVeAmipqfN6mlEc45XM5LKKUVObxS5BMpbo5-JWkexqEi0Uu24rCcWzhzcWzj33-cc8na1_URiSx676H0ezvkW8UgPoVcl93LNUH2VNKTGGmV1B3OLFC8vXkKWp63Li8oTwv4Q_MFqUAP9g-2TwYlv-DFnHdTaIl8xX6rdUS86EGLmol817B02BCyjjwkHQCj_4a6R9AeDibSpJv2QxMyoFIasj9-YtKYZP76qG5Oy-EF3ICkZlInxyqFVBIP9DOVyFwJG3TWyD7y5ds60fBVb-ErqT80-ivBbssX4LiM5hxbqCNokzORkhpJLwYa-c5XrxT5Rm-nZc9_Drj0i8nbPADaWTo3nPHtdmRV5DVEtRyat8ItQFfFxLmLN7GIj_eOSFJteWlTq6ZMSke5yPnu8lZzC8JeB_PnWVkrQELLnePlmgXfl5R7Rt_CPrzCPo6vb5xMIJ6T9Gx_EJ_7L6SrMI8-Um8cSgBVxwAr9iQUsX83c94dVIGuKRZ_QmI-91dWovkhcDmE1KGTZ_0000]--></g></svg>