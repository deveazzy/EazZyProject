<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1325px" preserveAspectRatio="none" style="width:1309px;height:1325px;background:#FFFFFF;" version="1.1" viewBox="0 0 1309 1325" width="1309px" zoomAndPan="magnify"><title>Alur Proses Lupa Kata Sandi</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="224.0547" x="538.6936" y="27.9951">Alur Proses Lupa Kata Sandi</text><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="374.5313" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="192.8594"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="168.7969" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="672.4609"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="364.3984" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="870.3906"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="237.125"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="376.7891"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="758.8594"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="294.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="941.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="985.9219"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="1059.3203"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="1117.5859"/></g><g><title>Email Service</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1222.9253" y="450.1875"/></g><rect fill="none" height="279.1328" style="stroke:#000000;stroke-width:1.5;" width="1282.4419" x="10" y="281.2578"/><rect fill="none" height="424.7969" style="stroke:#000000;stroke-width:1.5;" width="1163.4087" x="10" y="802.9922"/><g><title>User .Browser.</title><rect fill="#000000" fill-opacity="0.00000" height="448.7969" width="8" x="71.1616" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="75" x2="75" y1="118.5938" y2="567.3906"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="75" x2="75" y1="567.3906" y2="608.1953"/><g><title>User .Browser.</title><rect fill="#000000" fill-opacity="0.00000" height="636.5938" width="8" x="71.1616" y="608.1953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="75" x2="75" y1="608.1953" y2="1244.7891"/></g><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="448.7969" width="8" x="548.1919" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="551.6069" x2="551.6069" y1="118.5938" y2="567.3906"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="551.6069" x2="551.6069" y1="567.3906" y2="608.1953"/><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="636.5938" width="8" x="548.1919" y="608.1953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="551.6069" x2="551.6069" y1="608.1953" y2="1244.7891"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="448.7969" width="8" x="1114.6035" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1117.7983" x2="1117.7983" y1="118.5938" y2="567.3906"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="1117.7983" x2="1117.7983" y1="567.3906" y2="608.1953"/><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="636.5938" width="8" x="1114.6035" y="608.1953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1117.7983" x2="1117.7983" y1="608.1953" y2="1244.7891"/></g><g><title>Email Service</title><rect fill="#000000" fill-opacity="0.00000" height="448.7969" width="8" x="1223.9253" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1227.4087" x2="1227.4087" y1="118.5938" y2="567.3906"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="1227.4087" x2="1227.4087" y1="567.3906" y2="608.1953"/><g><title>Email Service</title><rect fill="#000000" fill-opacity="0.00000" height="636.5938" width="8" x="1223.9253" y="608.1953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1227.4087" x2="1227.4087" y1="608.1953" y2="1244.7891"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3232" x="20" y="115.292">User (Browser)</text><ellipse cx="75.1616" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75.1616,58.7969 L75.1616,85.7969 M62.1616,66.7969 L88.1616,66.7969 M75.1616,85.7969 L62.1616,100.7969 M75.1616,85.7969 L88.1616,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.3232" x="20" y="1256.7842">User (Browser)</text><ellipse cx="75.1616" cy="1268.5859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75.1616,1276.5859 L75.1616,1303.5859 M62.1616,1284.5859 L88.1616,1284.5859 M75.1616,1303.5859 L62.1616,1318.5859 M75.1616,1303.5859 L88.1616,1318.5859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="490.6069" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="497.6069" y="107.292">main-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="490.6069" y="1243.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="497.6069" y="1263.7842">main-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1073.7983" y="115.292">postgres-db</text><path d="M1100.6035,66.2969 C1100.6035,56.2969 1118.6035,56.2969 1118.6035,56.2969 C1118.6035,56.2969 1136.6035,56.2969 1136.6035,66.2969 L1136.6035,92.2969 C1136.6035,102.2969 1118.6035,102.2969 1118.6035,102.2969 C1118.6035,102.2969 1100.6035,102.2969 1100.6035,92.2969 L1100.6035,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1100.6035,66.2969 C1100.6035,76.2969 1118.6035,76.2969 1118.6035,76.2969 C1118.6035,76.2969 1136.6035,76.2969 1136.6035,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1073.7983" y="1256.7842">postgres-db</text><path d="M1100.6035,1270.0859 C1100.6035,1260.0859 1118.6035,1260.0859 1118.6035,1260.0859 C1118.6035,1260.0859 1136.6035,1260.0859 1136.6035,1270.0859 L1136.6035,1296.0859 C1136.6035,1306.0859 1118.6035,1306.0859 1118.6035,1306.0859 C1118.6035,1306.0859 1100.6035,1306.0859 1100.6035,1296.0859 L1100.6035,1270.0859" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1100.6035,1270.0859 C1100.6035,1280.0859 1118.6035,1280.0859 1118.6035,1280.0859 C1118.6035,1280.0859 1136.6035,1280.0859 1136.6035,1270.0859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Mailer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.0332" x="1173.4087" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0332" x="1180.4087" y="107.292">Email Service</text></g><g class="participant participant-tail" data-participant="Mailer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.0332" x="1173.4087" y="1243.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0332" x="1180.4087" y="1263.7842">Email Service</text></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="374.5313" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="192.8594"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="168.7969" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="672.4609"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="364.3984" style="stroke:#181818;stroke-width:1;" width="10" x="547.1919" y="870.3906"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="237.125"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="376.7891"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="758.8594"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="294.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1113.6035" y="941.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="985.9219"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="1059.3203"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1118.6035" y="1117.5859"/></g><g><title>Email Service</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1222.9253" y="450.1875"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1302.4419" x="0" y="149.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1302.4419" y1="149.1602" y2="149.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1302.4419" y1="152.1602" y2="152.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="258.0737" x="522.1841" y="138.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="239.5479" x="528.1841" y="154.6606">Bagian 1: Meminta Tautan Reset</text><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="535.1919,188.8594,545.1919,192.8594,535.1919,196.8594,539.1919,192.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="75.1616" x2="541.1919" y1="192.8594" y2="192.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.2554" x="82.1616" y="187.7935">1. POST /forgot-password (email)</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1101.6035,233.125,1111.6035,237.125,1101.6035,241.125,1105.6035,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1107.6035" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.853" x="564.1919" y="216.9263">2. Cari pengguna berdasarkan email</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.4063" x="564.1919" y="232.0591">SELECT user_id FROM users WHERE email = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,262.2578,558.1919,266.2578,568.1919,270.2578,564.1919,266.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1117.6035" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.9766" x="574.1919" y="261.1919">3. user_id (jika ditemukan)</text></g><path d="M10,281.2578 L74.4429,281.2578 L74.4429,288.3906 L64.4429,298.3906 L10,298.3906 L10,281.2578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="279.1328" style="stroke:#000000;stroke-width:1.5;" width="1282.4419" x="10" y="281.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="294.3247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140.105" x="89.4429" y="293.4683">[jika email ditemukan]</text><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="599.1919" y1="319.5234" y2="319.5234"/><line style="stroke:#181818;stroke-width:1;" x1="599.1919" x2="599.1919" y1="319.5234" y2="332.5234"/><line style="stroke:#181818;stroke-width:1;" x1="558.1919" x2="599.1919" y1="332.5234" y2="332.5234"/><polygon fill="#181818" points="568.1919,328.5234,558.1919,332.5234,568.1919,336.5234,564.1919,332.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.2617" x="564.1919" y="314.4575">4. Buat Token Reset yang unik &amp; berbatas waktu</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1101.6035,372.7891,1111.6035,376.7891,1101.6035,380.7891,1105.6035,376.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1107.6035" y1="376.7891" y2="376.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.0952" x="564.1919" y="356.5903">5. Simpan hash token &amp; waktu kedaluwarsa</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.7178" x="564.1919" y="371.7231">INSERT INTO password_resets (user_id, token_hash, expires_at)</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,401.9219,558.1919,405.9219,568.1919,409.9219,564.1919,405.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1117.6035" y1="405.9219" y2="405.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.252" x="574.1919" y="400.856">6. Konfirmasi token disimpan</text></g><g class="message" data-participant-1="App" data-participant-2="Mailer"><polygon fill="#181818" points="1210.9253,446.1875,1220.9253,450.1875,1210.9253,454.1875,1214.9253,450.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1216.9253" y1="450.1875" y2="450.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5234" x="564.1919" y="429.9888">7. Kirim Email Reset</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.9814" x="564.1919" y="445.1216">(berisi link dengan token asli)</text></g><g class="message" data-participant-1="Mailer" data-participant-2="App"><polygon fill="#181818" points="568.1919,475.3203,558.1919,479.3203,568.1919,483.3203,564.1919,479.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1226.9253" y1="479.3203" y2="479.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.1177" x="574.1919" y="474.2544">8. Konfirmasi email terkirim</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="86.1616,504.4531,76.1616,508.4531,86.1616,512.4531,82.1616,508.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="80.1616" x2="546.1919" y1="508.4531" y2="508.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.1147" x="92.1616" y="503.3872">9. Response (Sukses: "Silakan periksa email Anda")</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1292.4419" y1="517.4531" y2="517.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="175.5757" x="15" y="527.6636">[jika email tidak ditemukan]</text><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="86.1616,548.3906,76.1616,552.3906,86.1616,556.3906,82.1616,552.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="80.1616" x2="546.1919" y1="552.3906" y2="552.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.5791" x="92.1616" y="547.3247">Response (Sukses: "Silakan periksa email Anda")</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148.0112" x="577.5378" y="591.6011">Beberapa waktu kemudian</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1302.4419" x="0" y="628.7617"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1302.4419" y1="628.7617" y2="628.7617"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1302.4419" y1="631.7617" y2="631.7617"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="294.1665" x="504.1377" y="618.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="275.6406" x="510.1377" y="634.2622">Bagian 2: Mengatur Ulang Kata Sandi</text><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="535.1919,668.4609,545.1919,672.4609,535.1919,676.4609,539.1919,672.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="75.1616" x2="541.1919" y1="672.4609" y2="672.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.4277" x="82.1616" y="667.395">10. GET /reset-password?token=[token_asli]</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="599.1919" y1="701.5938" y2="701.5938"/><line style="stroke:#181818;stroke-width:1;" x1="599.1919" x2="599.1919" y1="701.5938" y2="714.5938"/><line style="stroke:#181818;stroke-width:1;" x1="558.1919" x2="599.1919" y1="714.5938" y2="714.5938"/><polygon fill="#181818" points="568.1919,710.5938,558.1919,714.5938,568.1919,718.5938,564.1919,714.5938" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.7393" x="564.1919" y="696.5278">11. Hash token dari URL</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1101.6035,754.8594,1111.6035,758.8594,1101.6035,762.8594,1105.6035,758.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1107.6035" y1="758.8594" y2="758.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.1548" x="564.1919" y="738.6606">12. Cari token di database</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="537.4116" x="564.1919" y="753.7935">SELECT * FROM password_resets WHERE token_hash = ? AND expires_at &gt; NOW()</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,783.9922,558.1919,787.9922,568.1919,791.9922,564.1919,787.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1117.6035" y1="787.9922" y2="787.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.5327" x="574.1919" y="782.9263">13. Data token (termasuk user_id)</text></g><path d="M10,802.9922 L74.4429,802.9922 L74.4429,810.125 L64.4429,820.125 L10,820.125 L10,802.9922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="424.7969" style="stroke:#000000;stroke-width:1.5;" width="1163.4087" x="10" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="816.0591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250.3359" x="89.4429" y="815.2026">[jika token valid dan tidak kedaluwarsa]</text><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="86.1616,837.2578,76.1616,841.2578,86.1616,845.2578,82.1616,841.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="80.1616" x2="551.1919" y1="841.2578" y2="841.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.3521" x="92.1616" y="836.1919">14. Response (Tampilkan halaman form password baru)</text></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="535.1919,866.3906,545.1919,870.3906,535.1919,874.3906,539.1919,870.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="75.1616" x2="541.1919" y1="870.3906" y2="870.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325.0381" x="82.1616" y="865.3247">15. POST /reset-password (token, password_baru)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="599.1919" y1="899.5234" y2="899.5234"/><line style="stroke:#181818;stroke-width:1;" x1="599.1919" x2="599.1919" y1="899.5234" y2="912.5234"/><line style="stroke:#181818;stroke-width:1;" x1="558.1919" x2="599.1919" y1="912.5234" y2="912.5234"/><polygon fill="#181818" points="568.1919,908.5234,558.1919,912.5234,568.1919,916.5234,564.1919,912.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6621" x="564.1919" y="894.4575">16. Validasi &amp; Hash password baru</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1101.6035,937.6563,1111.6035,941.6563,1101.6035,945.6563,1105.6035,941.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1107.6035" y1="941.6563" y2="941.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.5439" x="564.1919" y="936.5903">17. START TRANSACTION</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1106.6035,981.9219,1116.6035,985.9219,1106.6035,989.9219,1110.6035,985.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1112.6035" y1="985.9219" y2="985.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.4561" x="564.1919" y="965.7231">18. Perbarui password pengguna (users)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.1963" x="564.1919" y="980.856">UPDATE users SET password_hash = ? WHERE user_id = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,1011.0547,558.1919,1015.0547,568.1919,1019.0547,564.1919,1015.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1112.6035" y1="1015.0547" y2="1015.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.1563" x="574.1919" y="1009.9888">19. Konfirmasi password diperbarui</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1106.6035,1055.3203,1116.6035,1059.3203,1106.6035,1063.3203,1110.6035,1059.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1112.6035" y1="1059.3203" y2="1059.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.0732" x="564.1919" y="1039.1216">20. Hapus token yang sudah digunakan</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361.4355" x="564.1919" y="1054.2544">DELETE FROM password_resets WHERE token_hash = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,1084.4531,558.1919,1088.4531,568.1919,1092.4531,564.1919,1088.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1112.6035" y1="1088.4531" y2="1088.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.4868" x="574.1919" y="1083.3872">21. Konfirmasi token dihapus</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1106.6035,1113.5859,1116.6035,1117.5859,1106.6035,1121.5859,1110.6035,1117.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="557.1919" x2="1112.6035" y1="1117.5859" y2="1117.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.0015" x="564.1919" y="1112.52">22. COMMIT TRANSACTION</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="568.1919,1142.7188,558.1919,1146.7188,568.1919,1150.7188,564.1919,1146.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="562.1919" x2="1112.6035" y1="1146.7188" y2="1146.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.646" x="574.1919" y="1141.6528">23. Transaksi Sukses</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="86.1616,1171.8516,76.1616,1175.8516,86.1616,1179.8516,82.1616,1175.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="80.1616" x2="546.1919" y1="1175.8516" y2="1175.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424.0552" x="92.1616" y="1170.7856">24. Response (Sukses: "Password berhasil diubah, silakan login")</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1173.4087" y1="1184.8516" y2="1184.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="255.1431" x="15" y="1195.062">[jika token tidak valid atau kedaluwarsa]</text><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="86.1616,1215.7891,76.1616,1219.7891,86.1616,1223.7891,82.1616,1219.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="80.1616" x2="546.1919" y1="1219.7891" y2="1219.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="448.0303" x="92.1616" y="1214.7231">Response (Error: "Tautan reset tidak valid atau sudah kedaluwarsa")</text></g><!--SRC=[bLPhRzis5FskNt7X3wazn5wTfTjgm2tis5k2nWzOylfX7eBhY5KuIPH0KidsxtT9wkL7cou1abWYppsNzvp3l84PnqXY2bjPQ1HG25t4C4aA2VT5Zl09DOAF8kIUfxbEc7ktbfbYwdG9FkfCGcUhc8JkL6Olz4Ul0wZ0FF9ob9e_yXo5XawANFGnpw6xlbsxHPCyzqA2swDYqCapfIF9L3_SsxUpwI70d10Iy9byve_ChbZG0ohZZSSmnOXJFyCHB5ZA1L4Cq7QuOOff68yzpxBiVp1LOGJ30QnNVW0_VibabEb-ZagzP3A4BZDrUgOt_eoQMPQUsKHxPrFQUZM06vGSSYQYg108UoP3L2XZgcTtxuG_lv_V151GpGSUmc-RrS9-KF3vThwPksKmXezD7UgNuFirmvy6zVRktpn62BbcQK55Ubx8sjiyJ3JO9GwsNkW1VPNK7UZr0AO5QWYoc5M7yo-AY9J0OxWmhUnf8WfUCDQ5rmQmlRyRWCzJ6WWyeNe2RM4kt6g8MOX9yO9IuKxSBVtv9e2xPR22wd0Vf2cee5isTka07WpM9R1_SauB7b3tRDrsY-RpmUdyF81FcVZ2POgAbpn2hYmtk_heY5gDEDaGnY-4mILFmKdBdiPETEaC20WIBc924H4rw_1H9Vo8MYb1ywo4RIZ-Ua3HZKOp6PkInnGhATSq2SKATWJl1uPPdWaoITSlOdBY23e-Jz3eBIUoiQecFn4XTdgUnn9Qt5A4vY76HxfuGohMz2r6432DEMXCSvuuK4K_bQrLPaJAn2EByAa4PA98cKJDCt6Ey_ybp4JejKLjFJSOa5WPJGCfTYg5fKLeZ4xlshw_ChwdIMaAgsrYzDp4r3dplnt0xtColzLZxVsFTipZFvqepRJ_EXy39Gfbo6tZWj1amdPpVnWMmoejAeb2bNXrIFpWuk7O92ue6eEOj839SjRo2No0vUfpj_Vr41bIYipCKRZoNT8VgP7cMJhmwr7YDZnZGlaJ6WjO2RKiVcxkm-ksM8DQK4-OO4g_AMpJkb7OeonwnqwmvsoU7OtiNHNOXpEZbWpHo-Ru6jHJpCFvKORyOVepzhnmeppWTXf_GueCFvXGhWMRoTAVt0Htg-L9M9rkeoXOcsIL1MzArFU7ZKFLsudjUZO9vkL5uPD0wwPg0JXLL1U3kK1UZShX-uCWgkk7F2yvlHAOxjPxQzIU5wfKXhqrL15I98JSj45pteaPIPew-6v1lyx-QdWswPyCbU_YRGouMYpklZspqxhad42YK1XJMHTZtwpNkE3g-cnahsjjCKdzsukws2FTVAhCnYIBk3ZCRzUlCvyp8xcvUCs7JVMvb9caukM_GtOKft1kZYtGyvdy7m00]--></g></svg>