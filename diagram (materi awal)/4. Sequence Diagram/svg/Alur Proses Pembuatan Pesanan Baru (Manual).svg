<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="731px" preserveAspectRatio="none" style="width:881px;height:731px;background:#FFFFFF;" version="1.1" viewBox="0 0 881 731" width="881px" zoomAndPan="magnify"><title>Alur Proses Pembuatan Pesanan Baru (Manual)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="373.9668" x="255.4678" y="27.9951">Alur Proses Pembuatan Pesanan Baru (Manual)</text><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="483.3906" style="stroke:#181818;stroke-width:1;" width="10" x="449.7192" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="73.3984" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="220.9922"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="338.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="436.1875"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="509.5859"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="574.8516"/></g><rect fill="none" height="163.9297" style="stroke:#000000;stroke-width:1.5;" width="492.7681" x="383.1343" y="382.7891"/><g><title>User .Pegawai.Pemilik.</title><rect fill="#000000" fill-opacity="0.00000" height="532.5234" width="8" x="84.4556" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="88" x2="88" y1="118.5938" y2="651.1172"/></g><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="532.5234" width="8" x="450.7192" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="454.1343" x2="454.1343" y1="118.5938" y2="651.1172"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="532.5234" width="8" x="817.0972" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="820.292" x2="820.292" y1="118.5938" y2="651.1172"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.9111" x="5" y="115.292">User (Pegawai/Pemilik)</text><ellipse cx="88.4556" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M88.4556,58.7969 L88.4556,85.7969 M75.4556,66.7969 L101.4556,66.7969 M88.4556,85.7969 L75.4556,100.7969 M88.4556,85.7969 L101.4556,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.9111" x="5" y="663.1123">User (Pegawai/Pemilik)</text><ellipse cx="88.4556" cy="674.9141" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M88.4556,682.9141 L88.4556,709.9141 M75.4556,690.9141 L101.4556,690.9141 M88.4556,709.9141 L75.4556,724.9141 M88.4556,709.9141 L101.4556,724.9141" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="393.1343" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="400.1343" y="107.292">main-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="393.1343" y="650.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="400.1343" y="670.1123">main-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="776.292" y="115.292">postgres-db</text><path d="M803.0972,66.2969 C803.0972,56.2969 821.0972,56.2969 821.0972,56.2969 C821.0972,56.2969 839.0972,56.2969 839.0972,66.2969 L839.0972,92.2969 C839.0972,102.2969 821.0972,102.2969 821.0972,102.2969 C821.0972,102.2969 803.0972,102.2969 803.0972,92.2969 L803.0972,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M803.0972,66.2969 C803.0972,76.2969 821.0972,76.2969 821.0972,76.2969 C821.0972,76.2969 839.0972,76.2969 839.0972,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="776.292" y="663.1123">postgres-db</text><path d="M803.0972,676.4141 C803.0972,666.4141 821.0972,666.4141 821.0972,666.4141 C821.0972,666.4141 839.0972,666.4141 839.0972,676.4141 L839.0972,702.4141 C839.0972,712.4141 821.0972,712.4141 821.0972,712.4141 C821.0972,712.4141 803.0972,712.4141 803.0972,702.4141 L803.0972,676.4141" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M803.0972,676.4141 C803.0972,686.4141 821.0972,686.4141 821.0972,686.4141 C821.0972,686.4141 839.0972,686.4141 839.0972,676.4141" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="483.3906" style="stroke:#181818;stroke-width:1;" width="10" x="449.7192" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="73.3984" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="220.9922"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="338.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="436.1875"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="509.5859"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="816.0972" y="574.8516"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="437.7192,145.7266,447.7192,149.7266,437.7192,153.7266,441.7192,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="88.4556" x2="443.7192" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3486" x="95.4556" y="144.6606">1. POST /orders/create (data pelanggan &amp; produk)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="501.7192" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="501.7192" x2="501.7192" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="460.7192" x2="501.7192" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="470.7192,187.8594,460.7192,191.8594,470.7192,195.8594,466.7192,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.2075" x="466.7192" y="173.7935">2. Validasi data input</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,216.9922,814.0972,220.9922,804.0972,224.9922,808.0972,220.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="220.9922" y2="220.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.2729" x="466.7192" y="215.9263">3. START TRANSACTION</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,261.2578,814.0972,265.2578,804.0972,269.2578,808.0972,265.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="265.2578" y2="265.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.8989" x="466.7192" y="245.0591">4. Cari/Buat Pelanggan (customers)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.1123" x="466.7192" y="260.1919">SELECT / INSERT ...</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="470.7192,290.3906,460.7192,294.3906,470.7192,298.3906,466.7192,294.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="464.7192" x2="820.0972" y1="294.3906" y2="294.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.1162" x="476.7192" y="289.3247">5. customer_id</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,334.6563,814.0972,338.6563,804.0972,342.6563,808.0972,338.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="338.6563" y2="338.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.4536" x="466.7192" y="318.4575">6. Buat Pesanan Baru (orders)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1899" x="466.7192" y="333.5903">INSERT INTO orders ...</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="470.7192,363.7891,460.7192,367.7891,470.7192,371.7891,466.7192,367.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="464.7192" x2="820.0972" y1="367.7891" y2="367.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.7925" x="476.7192" y="362.7231">7. order_id</text></g><path d="M383.1343,382.7891 L459.7583,382.7891 L459.7583,389.9219 L449.7583,399.9219 L383.1343,399.9219 L383.1343,382.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="163.9297" style="stroke:#000000;stroke-width:1.5;" width="492.7681" x="383.1343" y="382.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="398.1343" y="395.856">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="265.7725" x="474.7583" y="394.9995">[untuk setiap item produk dalam pesanan]</text><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,432.1875,814.0972,436.1875,804.0972,440.1875,808.0972,436.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="436.1875" y2="436.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.6841" x="466.7192" y="415.9888">8. Masukkan Item Pesanan (order_items)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.0605" x="466.7192" y="431.1216">INSERT INTO order_items ...</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="470.7192,461.3203,460.7192,465.3203,470.7192,469.3203,466.7192,465.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="464.7192" x2="820.0972" y1="465.3203" y2="465.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.2046" x="476.7192" y="460.2544">9. Konfirmasi item dimasukkan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,505.5859,814.0972,509.5859,804.0972,513.5859,808.0972,509.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="509.5859" y2="509.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.9917" x="466.7192" y="489.3872">10. Kurangi Stok Produk (product_variants)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337.3779" x="466.7192" y="504.52">UPDATE product_variants SET stock = stock - qty ...</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="470.7192,534.7188,460.7192,538.7188,470.7192,542.7188,466.7192,538.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="464.7192" x2="820.0972" y1="538.7188" y2="538.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5615" x="476.7192" y="533.6528">11. Konfirmasi stok diperbarui</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="804.0972,570.8516,814.0972,574.8516,804.0972,578.8516,808.0972,574.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="459.7192" x2="810.0972" y1="574.8516" y2="574.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.0015" x="466.7192" y="569.7856">12. COMMIT TRANSACTION</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="470.7192,599.9844,460.7192,603.9844,470.7192,607.9844,466.7192,603.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="464.7192" x2="820.0972" y1="603.9844" y2="603.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.646" x="476.7192" y="598.9185">13. Transaksi Sukses</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="99.4556,629.1172,89.4556,633.1172,99.4556,637.1172,95.4556,633.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="93.4556" x2="453.7192" y1="633.1172" y2="633.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337.2637" x="105.4556" y="628.0513">14. Response (Redirect ke halaman detail pesanan)</text></g><!--SRC=[ZLFBhjCm4DtdAqPTGBgeItc315BwaAYWRTJaiaAwciQcM4aSuyT5_3tZ92rfrIle9gfzvfmpCyTFOIdnQB26E-CTAl3A-HAIoXj8HNtm60vJOL7HTux6Gxn1vR4QHv6JhX8zrZHMs7-NOE4Q0wCxAmp4gJZYBvHJgfALBCSZG0lXAj9ed2oaHkLWLADK4zIQ2Zwb7IZHEkAaSq0hOAGRwuv6s0a_jBVBUHIr2fEF0GdlOSOWtMKvJ1l3XR7JmWXq0kB00LfKg8v7Cli4j6cuByV1ftm8aA0K1P8prtC6Nx6I7As4jbugxTqPj9mJvWM3B4_sEUJxP9ibYtozs_xb3Fw6w9SC5cZaT4wZey6TtCI5jwwfoU_ucyfMNrOBQW3Mssn5n8onY8edPrkl69pmzv97N3mgzvf1hpHSKJSPKke5rjjy1zrXApQakn1-mphO3TMgQNIVA2kSH0tIYReVCWslejpfpaK4z1kwVCjWWzQN9JbSXwgJtRXNexERThkRrdFW71eA_o-ylsFmkL7VfQd3DbjpNDQzR0k_wkZQvUmPCNX36vEGkQOC3o7q5hSz5kx-WHPBAGvExz9bag_W-WQoLGwqkAA43_rt0Z_Tx__hO3QxQC463rngOGwqLNcZ1Q7uPHnc5EZ5RhDPFvxMIqKATquTMon9CFCbFVoRSQEAzXLI2ILyBwnk53tNU2-uDA9mK0hu4J90I-N2eQnEOHWF-OZh3m00]--></g></svg>