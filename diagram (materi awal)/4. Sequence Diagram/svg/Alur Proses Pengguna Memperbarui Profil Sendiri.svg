<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="598px" preserveAspectRatio="none" style="width:1190px;height:598px;background:#FFFFFF;" version="1.1" viewBox="0 0 1190 598" width="1190px" zoomAndPan="magnify"><title>Alur Proses Pengguna Memperbarui Profil Sendiri</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="393.0801" x="400.0498" y="27.9951">Alur Proses Pengguna Memperbarui Profil Sendiri</text><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="349.5938" style="stroke:#181818;stroke-width:1;" width="10" x="541.7954" y="149.7266"/></g><g><title>File Storage .Host.</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="808.3799" y="287.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1124.3745" y="360.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1124.3745" y="441.0547"/></g><rect fill="none" height="148.7969" style="stroke:#000000;stroke-width:1.5;" width="708.9692" x="475.2104" y="248.9922"/><g><title>User .Sudah Login.</title><rect fill="#000000" fill-opacity="0.00000" height="398.7266" width="8" x="70.9238" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="74" x2="74" y1="118.5938" y2="517.3203"/></g><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="398.7266" width="8" x="542.7954" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="546.2104" x2="546.2104" y1="118.5938" y2="517.3203"/></g><g><title>File Storage .Host.</title><rect fill="#000000" fill-opacity="0.00000" height="398.7266" width="8" x="809.3799" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="812.9189" x2="812.9189" y1="118.5938" y2="517.3203"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="398.7266" width="8" x="1125.3745" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1128.5693" x2="1128.5693" y1="118.5938" y2="517.3203"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8477" x="5" y="115.292">User (Sudah Login)</text><ellipse cx="74.9238" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.9238,58.7969 L74.9238,85.7969 M61.9238,66.7969 L87.9238,66.7969 M74.9238,85.7969 L61.9238,100.7969 M74.9238,85.7969 L87.9238,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8477" x="5" y="529.3154">User (Sudah Login)</text><ellipse cx="74.9238" cy="541.1172" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M74.9238,549.1172 L74.9238,576.1172 M61.9238,557.1172 L87.9238,557.1172 M74.9238,576.1172 L61.9238,591.1172 M74.9238,576.1172 L87.9238,591.1172" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="485.2104" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="492.2104" y="107.292">main-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="485.2104" y="516.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="492.2104" y="536.3154">main-app (PHP)</text></g><g class="participant participant-head" data-participant="Storage"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.9219" x="740.9189" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.9219" x="747.9189" y="107.292">File Storage (Host)</text></g><g class="participant participant-tail" data-participant="Storage"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.9219" x="740.9189" y="516.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.9219" x="747.9189" y="536.3154">File Storage (Host)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1084.5693" y="115.292">postgres-db</text><path d="M1111.3745,66.2969 C1111.3745,56.2969 1129.3745,56.2969 1129.3745,56.2969 C1129.3745,56.2969 1147.3745,56.2969 1147.3745,66.2969 L1147.3745,92.2969 C1147.3745,102.2969 1129.3745,102.2969 1129.3745,102.2969 C1129.3745,102.2969 1111.3745,102.2969 1111.3745,92.2969 L1111.3745,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1111.3745,66.2969 C1111.3745,76.2969 1129.3745,76.2969 1129.3745,76.2969 C1129.3745,76.2969 1147.3745,76.2969 1147.3745,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1084.5693" y="529.3154">postgres-db</text><path d="M1111.3745,542.6172 C1111.3745,532.6172 1129.3745,532.6172 1129.3745,532.6172 C1129.3745,532.6172 1147.3745,532.6172 1147.3745,542.6172 L1147.3745,568.6172 C1147.3745,578.6172 1129.3745,578.6172 1129.3745,578.6172 C1129.3745,578.6172 1111.3745,578.6172 1111.3745,568.6172 L1111.3745,542.6172" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1111.3745,542.6172 C1111.3745,552.6172 1129.3745,552.6172 1129.3745,552.6172 C1129.3745,552.6172 1147.3745,552.6172 1147.3745,542.6172" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="349.5938" style="stroke:#181818;stroke-width:1;" width="10" x="541.7954" y="149.7266"/></g><g><title>File Storage .Host.</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="808.3799" y="287.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1124.3745" y="360.6563"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1124.3745" y="441.0547"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="529.7954,145.7266,539.7954,149.7266,529.7954,153.7266,533.7954,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.9238" x2="535.7954" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.8716" x="81.9238" y="144.6606">1. POST /account/profile/update (full_name, bio, file_avatar opsional)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="551.7954" x2="593.7954" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="593.7954" x2="593.7954" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="552.7954" x2="593.7954" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="562.7954,187.8594,552.7954,191.8594,562.7954,195.8594,558.7954,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.2075" x="558.7954" y="173.7935">2. Validasi data input</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="551.7954" x2="593.7954" y1="220.9922" y2="220.9922"/><line style="stroke:#181818;stroke-width:1;" x1="593.7954" x2="593.7954" y1="220.9922" y2="233.9922"/><line style="stroke:#181818;stroke-width:1;" x1="552.7954" x2="593.7954" y1="233.9922" y2="233.9922"/><polygon fill="#181818" points="562.7954,229.9922,552.7954,233.9922,562.7954,237.9922,558.7954,233.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.5845" x="558.7954" y="215.9263">3. Ambil user_id dari sesi pengguna</text></g><path d="M475.2104,248.9922 L544.6616,248.9922 L544.6616,256.125 L534.6616,266.125 L475.2104,266.125 L475.2104,248.9922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="148.7969" style="stroke:#000000;stroke-width:1.5;" width="708.9692" x="475.2104" y="248.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="490.2104" y="262.0591">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="255.1001" x="559.6616" y="261.2026">[jika ada file avatar baru yang diunggah]</text><g class="message" data-participant-1="App" data-participant-2="Storage"><polygon fill="#181818" points="796.3799,283.2578,806.3799,287.2578,796.3799,291.2578,800.3799,287.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="551.7954" x2="802.3799" y1="287.2578" y2="287.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.4746" x="558.7954" y="282.1919">4a. Simpan file avatar baru ke disk</text></g><g class="message" data-participant-1="Storage" data-participant-2="App"><polygon fill="#181818" points="562.7954,312.3906,552.7954,316.3906,562.7954,320.3906,558.7954,316.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="556.7954" x2="812.3799" y1="316.3906" y2="316.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.6528" x="568.7954" y="311.3247">5a. Path file tersimpan</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1112.3745,356.6563,1122.3745,360.6563,1112.3745,364.6563,1116.3745,360.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="551.7954" x2="1118.3745" y1="360.6563" y2="360.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.2417" x="558.7954" y="340.4575">6a. Masukkan data avatar baru (media)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.0156" x="558.7954" y="355.5903">INSERT INTO media ...</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="562.7954,385.7891,552.7954,389.7891,562.7954,393.7891,558.7954,389.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="556.7954" x2="1128.3745" y1="389.7891" y2="389.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.8262" x="568.7954" y="384.7231">7a. avatar_media_id baru</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1112.3745,437.0547,1122.3745,441.0547,1112.3745,445.0547,1116.3745,441.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="551.7954" x2="1118.3745" y1="441.0547" y2="441.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.2813" x="558.7954" y="420.856">8. Perbarui data profil (user_profiles)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="553.5791" x="558.7954" y="435.9888">UPDATE user_profiles SET full_name=?, bio=?, avatar_media_id=? WHERE user_id=?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="562.7954,466.1875,552.7954,470.1875,562.7954,474.1875,558.7954,470.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="556.7954" x2="1128.3745" y1="470.1875" y2="470.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.2891" x="568.7954" y="465.1216">9. Konfirmasi profil diperbarui</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="85.9238,495.3203,75.9238,499.3203,85.9238,503.3203,81.9238,499.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.9238" x2="545.7954" y1="499.3203" y2="499.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332.1411" x="91.9238" y="494.2544">10. Response (Sukses: "Profil berhasil diperbarui.")</text></g><!--SRC=[ZPDRRzf048NV_Ij6l1IaO7g_855415MYD8c5eNsfX0QycAdjzMelaVhlExksAKvUwXVBwvcptvmz-mgMXBd62hRQMPJWf7K5B4gd8H4opvr4k1UL4dgFsX4akZvI2QcG6McA8aks56szheqm_zU61rjh66oDq31CNOOd-5xd94S3G0D-ELAeBHr8eRGmg93a69M2ONAJD4KBfVertuX9KjR5NC3mfZQsAMoNeWmjxj4862Z-bsjXnja-L2oleoYWZBzwMPZ2cnYIntG34pmSQlPaei80Ok8Kox3yqPNbJc8bhc1FzHNudpjyuYqqrCfGBR4S-J7foTTxsCXBdtTu6yCFB2b3G-39WAHojb_pBeP5jMVV7CFjAED2JS0c4wZMvIYgbONVL21WXW43MWplFFn1cKD6Zgln504_xGwTKLDuZp6aLB69BziBmSsc28tdOJf3_M8dCpv3Vs2v1Esf4RD2cw0TgZFnGkIIQNdD_H-v_nwDAme62ivS0WqhaH6EVidRXtIrti3jm-OHmXh4STpdv6FrtwpwZ-uJgpTwkz3bNVN2p_6ubxDwFhD0zfa7wm8Tm9fGm30SJviGmspRPBdOhA2t3Ebg0-VKpEOXD_xrZ6OsXvytg_MgE_FPFBg4wWtp9OQxMXv9Lpv5BKr6tQsB-lCqit1pY3fd_7KCQs5KBVbEy2KiE5XJ6BHNTI_qYLKlzUB1w5AIvVu2]--></g></svg>