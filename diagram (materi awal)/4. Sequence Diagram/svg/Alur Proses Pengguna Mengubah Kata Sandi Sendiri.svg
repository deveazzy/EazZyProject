<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="683px" preserveAspectRatio="none" style="width:1249px;height:683px;background:#FFFFFF;" version="1.1" viewBox="0 0 1249 683" width="1249px" zoomAndPan="magnify"><title>Alur Proses Pengguna Mengubah Kata Sandi Sendiri</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="413.4785" x="419.1094" y="27.9951">Alur Proses Pengguna Mengubah Kata Sandi Sendiri</text><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="442.6641" style="stroke:#181818;stroke-width:1;" width="10" x="705.3115" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1182.8921" y="278.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1182.8921" y="475.1875"/></g><rect fill="none" height="205.7344" style="stroke:#000000;stroke-width:1.5;" width="1232.6973" x="10" y="379.6563"/><g><title>User .Sudah Login.</title><rect fill="#000000" fill-opacity="0.00000" height="483.7969" width="8" x="85.9238" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="89" x2="89" y1="118.5938" y2="602.3906"/></g><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="483.7969" width="8" x="706.3115" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="709.7266" x2="709.7266" y1="118.5938" y2="602.3906"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="483.7969" width="8" x="1183.8921" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1187.0869" x2="1187.0869" y1="118.5938" y2="602.3906"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8477" x="20" y="115.292">User (Sudah Login)</text><ellipse cx="89.9238" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89.9238,58.7969 L89.9238,85.7969 M76.9238,66.7969 L102.9238,66.7969 M89.9238,85.7969 L76.9238,100.7969 M89.9238,85.7969 L102.9238,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8477" x="20" y="614.3857">User (Sudah Login)</text><ellipse cx="89.9238" cy="626.1875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M89.9238,634.1875 L89.9238,661.1875 M76.9238,642.1875 L102.9238,642.1875 M89.9238,661.1875 L76.9238,676.1875 M89.9238,661.1875 L102.9238,676.1875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="648.7266" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="655.7266" y="107.292">main-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="648.7266" y="601.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="655.7266" y="621.3857">main-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1143.0869" y="115.292">postgres-db</text><path d="M1169.8921,66.2969 C1169.8921,56.2969 1187.8921,56.2969 1187.8921,56.2969 C1187.8921,56.2969 1205.8921,56.2969 1205.8921,66.2969 L1205.8921,92.2969 C1205.8921,102.2969 1187.8921,102.2969 1187.8921,102.2969 C1187.8921,102.2969 1169.8921,102.2969 1169.8921,92.2969 L1169.8921,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1169.8921,66.2969 C1169.8921,76.2969 1187.8921,76.2969 1187.8921,76.2969 C1187.8921,76.2969 1205.8921,76.2969 1205.8921,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="1143.0869" y="614.3857">postgres-db</text><path d="M1169.8921,627.6875 C1169.8921,617.6875 1187.8921,617.6875 1187.8921,617.6875 C1187.8921,617.6875 1205.8921,617.6875 1205.8921,627.6875 L1205.8921,653.6875 C1205.8921,663.6875 1187.8921,663.6875 1187.8921,663.6875 C1187.8921,663.6875 1169.8921,663.6875 1169.8921,653.6875 L1169.8921,627.6875" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1169.8921,627.6875 C1169.8921,637.6875 1187.8921,637.6875 1187.8921,637.6875 C1187.8921,637.6875 1205.8921,637.6875 1205.8921,627.6875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="442.6641" style="stroke:#181818;stroke-width:1;" width="10" x="705.3115" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1182.8921" y="278.2578"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1182.8921" y="475.1875"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="693.3115,145.7266,703.3115,149.7266,693.3115,153.7266,697.3115,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="89.9238" x2="699.3115" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="596.3877" x="96.9238" y="144.6606">1. POST /account/change-password (password_lama, password_baru, konfirmasi_password)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="757.3115" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="757.3115" x2="757.3115" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="716.3115" x2="757.3115" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="726.3115,187.8594,716.3115,191.8594,726.3115,195.8594,722.3115,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="443.5806" x="722.3115" y="173.7935">2. Validasi data input (password baru cocok dengan konfirmasi, dll.)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="757.3115" y1="220.9922" y2="220.9922"/><line style="stroke:#181818;stroke-width:1;" x1="757.3115" x2="757.3115" y1="220.9922" y2="233.9922"/><line style="stroke:#181818;stroke-width:1;" x1="716.3115" x2="757.3115" y1="233.9922" y2="233.9922"/><polygon fill="#181818" points="726.3115,229.9922,716.3115,233.9922,726.3115,237.9922,722.3115,233.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.5845" x="722.3115" y="215.9263">3. Ambil user_id dari sesi pengguna</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1170.8921,274.2578,1180.8921,278.2578,1170.8921,282.2578,1174.8921,278.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="1176.8921" y1="278.2578" y2="278.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.2378" x="722.3115" y="258.0591">4. Ambil hash password saat ini dari database</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.2192" x="722.3115" y="273.1919">SELECT password_hash FROM users WHERE user_id = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="726.3115,303.3906,716.3115,307.3906,726.3115,311.3906,722.3115,307.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="720.3115" x2="1186.8921" y1="307.3906" y2="307.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.7305" x="732.3115" y="302.3247">5. password_hash saat ini</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="757.3115" y1="351.6563" y2="351.6563"/><line style="stroke:#181818;stroke-width:1;" x1="757.3115" x2="757.3115" y1="351.6563" y2="364.6563"/><line style="stroke:#181818;stroke-width:1;" x1="716.3115" x2="757.3115" y1="364.6563" y2="364.6563"/><polygon fill="#181818" points="726.3115,360.6563,716.3115,364.6563,726.3115,368.6563,722.3115,364.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.8706" x="722.3115" y="331.4575">6. Verifikasi password lama</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390.5015" x="722.3115" y="346.5903">(password_verify(password_lama, password_hash_saat_ini))</text></g><path d="M10,379.6563 L74.4429,379.6563 L74.4429,386.7891 L64.4429,396.7891 L10,396.7891 L10,379.6563" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="205.7344" style="stroke:#000000;stroke-width:1.5;" width="1232.6973" x="10" y="379.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="392.7231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170.5698" x="89.4429" y="391.8667">[jika password lama VALID]</text><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="757.3115" y1="417.9219" y2="417.9219"/><line style="stroke:#181818;stroke-width:1;" x1="757.3115" x2="757.3115" y1="417.9219" y2="430.9219"/><line style="stroke:#181818;stroke-width:1;" x1="716.3115" x2="757.3115" y1="430.9219" y2="430.9219"/><polygon fill="#181818" points="726.3115,426.9219,716.3115,430.9219,726.3115,434.9219,722.3115,430.9219" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263.2437" x="722.3115" y="412.856">7. Hash password baru (password_hash)</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="1170.8921,471.1875,1180.8921,475.1875,1170.8921,479.1875,1174.8921,475.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="715.3115" x2="1176.8921" y1="475.1875" y2="475.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.6104" x="722.3115" y="454.9888">8. Perbarui password di database</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.1963" x="722.3115" y="470.1216">UPDATE users SET password_hash = ? WHERE user_id = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="726.3115,500.3203,716.3115,504.3203,726.3115,508.3203,722.3115,504.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="720.3115" x2="1186.8921" y1="504.3203" y2="504.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.8853" x="732.3115" y="499.2544">9. Konfirmasi password diperbarui</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="100.9238,529.4531,90.9238,533.4531,100.9238,537.4531,96.9238,533.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="94.9238" x2="704.3115" y1="533.4531" y2="533.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345.4204" x="106.9238" y="528.3872">10. Response (Sukses: "Kata sandi berhasil diubah.")</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1242.6973" y1="542.4531" y2="542.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="212.1636" x="15" y="552.6636">[jika password lama TIDAK VALID]</text><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="100.9238,573.3906,90.9238,577.3906,100.9238,581.3906,96.9238,577.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="94.9238" x2="704.3115" y1="577.3906" y2="577.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.2686" x="106.9238" y="572.3247">11. Response (Error: "Kata sandi lama yang Anda masukkan salah.")</text></g><!--SRC=[ZLFRRfj047tdAqQyr4WsQNflfBOYXIgH7SKoTleIoHhO3Tw25xIxfChVTtPZCBYfL1uGbpcNEJlp2cA1XS8zR5HhK48hJLj2LBKAbbmMHIiHRkYXpN07SpG8AKec8ELqLyBpZ30LFm1KhRd-JnpcfbRWRpHNC4bRHcMBkX0oy04rsCzUWyg8N3Ge3VXx57A6JGEJvTNokIXg6eyHTOQQWz_KsXIAwndBtD_uqlCS- -ohhOGBE0zXUPkkuGpplAP6p_8ToeBF6jJwTwqOJBgdROLxd4B_cg5gfr3Mya6eFMgnxVu4jW_nY8OxDvuLwlNUX727bM040EiJX6nQSrG1ImjvdTSbCCgAuZzAJ85LLHYC6T-64EqpKK5BZMq58rebW48Nq1nIxpt4bmHurm5sg7TzFw0H3RaHp_WkmtkP9ela-_hOjqFzMDtUE44DFw-ILTABVu5ln_OfRbASzLRVXoSqdQR7-10qRl03HSQLU12b3QttQu_ZNXwFvz7MFFtpkApUrkfjIIy8QDWg0x-8Sym8Tz7YElOye6laucC8LwEyt45DHlp12EV2_aJpnPMj7LXdmtmtopXQ9uSmq-GqQGhqXOYjp30n-pwA-dC8ytvkXihDmOs3dCJUcoSQjoQq7wz3M77Tr9BsYNQofC6w0DzjhtRRct55HccScB2B7VgK0g-e-eLmrzTnDFyhue7Q-L0jKQfMOp77yaGR2f5a2DHSMvQq8nghJbeoRpXEfF07]--></g></svg>