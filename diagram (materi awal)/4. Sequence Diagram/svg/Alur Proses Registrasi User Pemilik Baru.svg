<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="889px" preserveAspectRatio="none" style="width:978px;height:889px;background:#FFFFFF;" version="1.1" viewBox="0 0 978 889" width="978px" zoomAndPan="magnify"><title>Alur Proses Registrasi User Pemilik Baru</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="320.5645" x="330.4431" y="27.9951">Alur Proses Registrasi User Pemilik Baru</text><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="641.1875" style="stroke:#181818;stroke-width:1;" width="10" x="457.8472" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="927.6455" y="236.125"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="463.3906" style="stroke:#181818;stroke-width:1;" width="10" x="927.6455" y="336.5234"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="380.7891"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="454.1875"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="527.5859"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="600.9844"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="674.3828"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="732.6484"/></g><g><title>User .Calon Pemilik.</title><rect fill="#000000" fill-opacity="0.00000" height="690.3203" width="8" x="74.9434" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="78" x2="78" y1="118.5938" y2="808.9141"/></g><g><title>main-app .PHP.</title><rect fill="#000000" fill-opacity="0.00000" height="690.3203" width="8" x="458.8472" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="462.2622" x2="462.2622" y1="118.5938" y2="808.9141"/></g><g><title>postgres-db</title><rect fill="#000000" fill-opacity="0.00000" height="690.3203" width="8" x="928.6455" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="931.8403" x2="931.8403" y1="118.5938" y2="808.9141"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.8867" x="5" y="115.292">User (Calon Pemilik)</text><ellipse cx="78.9434" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.9434,58.7969 L78.9434,85.7969 M65.9434,66.7969 L91.9434,66.7969 M78.9434,85.7969 L65.9434,100.7969 M78.9434,85.7969 L91.9434,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.8867" x="5" y="820.9092">User (Calon Pemilik)</text><ellipse cx="78.9434" cy="832.7109" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M78.9434,840.7109 L78.9434,867.7109 M65.9434,848.7109 L91.9434,848.7109 M78.9434,867.7109 L65.9434,882.7109 M78.9434,867.7109 L91.9434,882.7109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="401.2622" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="408.2622" y="107.292">main-app (PHP)</text></g><g class="participant participant-tail" data-participant="App"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1699" x="401.2622" y="807.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1699" x="408.2622" y="827.9092">main-app (PHP)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="887.8403" y="115.292">postgres-db</text><path d="M914.6455,66.2969 C914.6455,56.2969 932.6455,56.2969 932.6455,56.2969 C932.6455,56.2969 950.6455,56.2969 950.6455,66.2969 L950.6455,92.2969 C950.6455,102.2969 932.6455,102.2969 932.6455,102.2969 C932.6455,102.2969 914.6455,102.2969 914.6455,92.2969 L914.6455,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M914.6455,66.2969 C914.6455,76.2969 932.6455,76.2969 932.6455,76.2969 C932.6455,76.2969 950.6455,76.2969 950.6455,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6104" x="887.8403" y="820.9092">postgres-db</text><path d="M914.6455,834.2109 C914.6455,824.2109 932.6455,824.2109 932.6455,824.2109 C932.6455,824.2109 950.6455,824.2109 950.6455,834.2109 L950.6455,860.2109 C950.6455,870.2109 932.6455,870.2109 932.6455,870.2109 C932.6455,870.2109 914.6455,870.2109 914.6455,860.2109 L914.6455,834.2109" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M914.6455,834.2109 C914.6455,844.2109 932.6455,844.2109 932.6455,844.2109 C932.6455,844.2109 950.6455,844.2109 950.6455,834.2109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>main-app .PHP.</title><rect fill="#FFFFFF" height="641.1875" style="stroke:#181818;stroke-width:1;" width="10" x="457.8472" y="149.7266"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="927.6455" y="236.125"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="463.3906" style="stroke:#181818;stroke-width:1;" width="10" x="927.6455" y="336.5234"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="380.7891"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="454.1875"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="527.5859"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="600.9844"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="674.3828"/></g><g><title>postgres-db</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="932.6455" y="732.6484"/></g><g class="message" data-participant-1="User" data-participant-2="App"><polygon fill="#181818" points="445.8472,145.7266,455.8472,149.7266,445.8472,153.7266,449.8472,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="78.9434" x2="451.8472" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355.3037" x="85.9434" y="144.6606">1. POST /register (nama, email, password, nama_toko)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="509.8472" y1="178.8594" y2="178.8594"/><line style="stroke:#181818;stroke-width:1;" x1="509.8472" x2="509.8472" y1="178.8594" y2="191.8594"/><line style="stroke:#181818;stroke-width:1;" x1="468.8472" x2="509.8472" y1="191.8594" y2="191.8594"/><polygon fill="#181818" points="478.8472,187.8594,468.8472,191.8594,478.8472,195.8594,474.8472,191.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.5615" x="474.8472" y="173.7935">2. Validasi data (email unik, password kuat, dll.)</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="915.6455,232.125,925.6455,236.125,915.6455,240.125,919.6455,236.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="921.6455" y1="236.125" y2="236.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.064" x="474.8472" y="215.9263">3. Periksa keunikan email</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.9165" x="474.8472" y="231.0591">SELECT COUNT(*) FROM users WHERE email = [email]</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,261.2578,468.8472,265.2578,478.8472,269.2578,474.8472,265.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="931.6455" y1="265.2578" y2="265.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.5845" x="484.8472" y="260.1919">4. Hasil (Count = 0)</text></g><g class="message" data-participant-1="App" data-participant-2="App"><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="509.8472" y1="294.3906" y2="294.3906"/><line style="stroke:#181818;stroke-width:1;" x1="509.8472" x2="509.8472" y1="294.3906" y2="307.3906"/><line style="stroke:#181818;stroke-width:1;" x1="468.8472" x2="509.8472" y1="307.3906" y2="307.3906"/><polygon fill="#181818" points="478.8472,303.3906,468.8472,307.3906,478.8472,311.3906,474.8472,307.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.3091" x="474.8472" y="289.3247">5. Hash password (password_hash)</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="915.6455,332.5234,925.6455,336.5234,915.6455,340.5234,919.6455,336.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="921.6455" y1="336.5234" y2="336.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.2729" x="474.8472" y="331.4575">6. START TRANSACTION</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,376.7891,930.6455,380.7891,920.6455,384.7891,924.6455,380.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="380.7891" y2="380.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3184" x="474.8472" y="360.5903">7. Buat Pengguna (users)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="411.2266" x="474.8472" y="375.7231">INSERT INTO users (email, password_hash, role='store_owner')</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,405.9219,468.8472,409.9219,478.8472,413.9219,474.8472,409.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="409.9219" y2="409.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.2544" x="484.8472" y="404.856">8. user_id</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,450.1875,930.6455,454.1875,920.6455,458.1875,924.6455,454.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="454.1875" y2="454.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.2373" x="474.8472" y="433.9888">9. Buat Profil Pengguna (user_profiles)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302.6372" x="474.8472" y="449.1216">INSERT INTO user_profiles (user_id, full_name)</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,479.3203,468.8472,483.3203,478.8472,487.3203,474.8472,483.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="483.3203" y2="483.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.106" x="484.8472" y="478.2544">10. Konfirmasi profil dibuat</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,523.5859,930.6455,527.5859,920.6455,531.5859,924.6455,527.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="527.5859" y2="527.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.752" x="474.8472" y="507.3872">11. Buat Toko (stores)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.54" x="474.8472" y="522.52">INSERT INTO stores (owner_id, store_name)</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,552.7188,468.8472,556.7188,478.8472,560.7188,474.8472,556.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="556.7188" y2="556.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.3369" x="484.8472" y="551.6528">12. store_id</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,596.9844,930.6455,600.9844,920.6455,604.9844,924.6455,600.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="600.9844" y2="600.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.77" x="474.8472" y="580.7856">13. Buat Layout Toko Default (store_layouts)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.4634" x="474.8472" y="595.9185">INSERT INTO store_layouts (store_id, ...)</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,626.1172,468.8472,630.1172,478.8472,634.1172,474.8472,630.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="630.1172" y2="630.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.3169" x="484.8472" y="625.0513">14. Konfirmasi layout dibuat</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,670.3828,930.6455,674.3828,920.6455,678.3828,924.6455,674.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="674.3828" y2="674.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.1162" x="474.8472" y="654.1841">15. Update user dengan store_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435.7983" x="474.8472" y="669.3169">UPDATE users SET store_id = [store_id] WHERE user_id = [user_id]</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,699.5156,468.8472,703.5156,478.8472,707.5156,474.8472,703.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="703.5156" y2="703.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.3604" x="484.8472" y="698.4497">16. Konfirmasi user diupdate</text></g><g class="message" data-participant-1="App" data-participant-2="DB"><polygon fill="#181818" points="920.6455,728.6484,930.6455,732.6484,920.6455,736.6484,924.6455,732.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.8472" x2="926.6455" y1="732.6484" y2="732.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.0015" x="474.8472" y="727.5825">17. COMMIT TRANSACTION</text></g><g class="message" data-participant-1="DB" data-participant-2="App"><polygon fill="#181818" points="478.8472,757.7813,468.8472,761.7813,478.8472,765.7813,474.8472,761.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="472.8472" x2="926.6455" y1="761.7813" y2="761.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.646" x="484.8472" y="756.7153">18. Transaksi Sukses</text></g><g class="message" data-participant-1="App" data-participant-2="User"><polygon fill="#181818" points="89.9434,786.9141,79.9434,790.9141,89.9434,794.9141,85.9434,790.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="83.9434" x2="461.8472" y1="790.9141" y2="790.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.9038" x="95.9434" y="785.8481">19. Response (Redirect ke halaman login atau dasbor)</text></g><!--SRC=[ZPJRRjim38Rl_HH4RceFYTUiNNS0EY073mtQ9a7iR1ThOIYraWfM94E75NlxKRATBaMQxauGoPyVAOedC6PaeyWMbieQ8i0AOqiOSAjWGJTC6qKqWwMc2kPqopWhOKYK3GB33AUrurn9JVKR_kJ1I0KTRmb7X4lHEaGT8Dg711LHXZsmYWW3dIrXeaUg2iBvrRns6bHLK113LaHJw5HIcusYkbUil7Ky30Alt_lcFE4hz6EOpz8CtYlFvb8BiYLTe2ZEkr0HhP-aAhhWhdCZInavKlQR6Egp1Kvef_SXXX-4iyBLw3WWz4BODLO-gq5fYUb2mNaSxGJ6Gum_GnwgMAa9bDG5OSUzmfr8avjabC5ejfncuRi8lYzcjs2n6Wq_hv95Kll19VpoX_jdJ2mRnNixoFCOhX2GOvibFYU6d4P1GV_rtw_gemzuVEOFsrF-YFSlQhY88Sq6YmoonM2Q3aRPP3OD3ebxxqyn3B4RMBRORAp0ZlcQeZincQO9gaocsQofCtpnAZvx5vJazF94u_ZGN3u9gawYrul_77knd1MlbEoflhHKIgwnKVjmUULlwI78dQrnPJWwQyjvZlD3Zs3rJsEubcBDrDRDJgq21LiXnJ7GVhyXpN0q8VHDUCbLNqBeU-E9wbwzXOJ3N3iUxrN_h46u8N-aRKZ6T4qiDmrHphtf85XhQrqTNnp7ny3EztfLn_zFht2EbrNXJEvjeC1NnV_LfhqJo_bua2NDiAL9jZEvNzMUxvllrZolCpN78r-kVx67NATdriCSHSRlCPhTtavU_qtxUN2yCqM49YMcIMs9U_UWFaRuJOWXEEiBgYifS6M62remHHyChXzu91oNdW0kDqm0RZEBEqslfDhR5YZt5m00]--></g></svg>